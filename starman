#!/usr/bin/env ruby

ENV['STARMAN_ROOT'] = File.absolute_path(File.dirname __FILE__)

require "#{ENV['STARMAN_ROOT']}/framework"

command_name = ARGV.shift.to_sym

aliases = {
  i: :install,
  rm: :uninstall,
  l: :load,
  c: :config
}

commands = {
  install: InstallCommand,
  uninstall: UninstallCommand,
  load: LoadCommand,
  config: ConfigCommand
}

OS.init

command = (commands[command_name] || commands[aliases[command_name]]).new

Settings.init
History.init

command.run
